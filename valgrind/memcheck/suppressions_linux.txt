# There are three kinds of suppressions in this file:
# 1. Third party stuff we have no control over.
#
# 2. Intentional unit test errors, stuff that is somehow a false positive
# in our own code, or stuff that is so trivial it's not worth fixing.
#
# 3. Suppressions for real chromium bugs that are not yet fixed.
# These should all be in chromium's bug tracking system.
# Periodically we should sweep this file and the bug tracker clean by
# running overnight and removing outdated bugs/suppressions.
#
# TODO(rnk): Should we move all of the Linux-only system library suppressions
# over from suppressions.txt?  We'd avoid wasting time parsing and matching
# suppressions on non-Linux, which is basically just Mac.
#
#-----------------------------------------------------------------------

# 1. Third party stuff we have no control over.
{
   # The InvalidRead error in rc4_wordconv is intentional.
   # https://bugzilla.mozilla.org/show_bug.cgi?id=341127
   # TODO(wtc): This invalid read has been fixed in NSS 3.15.  Remove this
   # suppression when the system NSS libraries in Linux distributions are
   # version 3.15 or later.
   bug_43113 (Intentional)
   Memcheck:Unaddressable
   fun:rc4_wordconv
   fun:RC4_Encrypt
}

# 2. Intentional unit test errors, stuff that is somehow a false positive
# in our own code, or stuff that is so trivial it's not worth fixing.

# 3. Suppressions for real chromium bugs that are not yet fixed.

{
   bug_256436
   Memcheck:Unaddressable
   fun:g_utf8_offset_to_pointer
   fun:_ZNK3gfx15RenderTextLinux22TextIndexToLayoutIndexEm
   fun:_ZNK3gfx15RenderTextLinux21GetRunContainingCaretERKNS_14SelectionModelE
   fun:_ZN3gfx15RenderTextLinux26AdjacentCharSelectionModelERKNS_14SelectionModelENS_21VisualCursorDirectionE
   fun:_ZN3gfx10RenderText25GetAdjacentSelectionModelERKNS_14SelectionModelENS_9BreakTypeENS_21VisualCursorDirectionE
   fun:_ZN3gfx10RenderText10MoveCursorENS_9BreakTypeENS_21VisualCursorDirectionEb
   fun:_ZN3gfx12_GLOBAL__N_126RunMoveCursorLeftRightTestEPNS_10RenderTextERKSt6vectorINS_14SelectionModelESaIS4_EENS_21VisualCursorDirectionE
   fun:_ZN3gfx46RenderTextTest_TruncatedCursorMovementLTR_Test8TestBodyEv
}
